# CountryNames
This is a conversion tool that uses a web service API from Geonames to convert misspelled country names or names with alternate spellings into correctly spelled country names. How it works is that the first function (standardize_country) defines the name, username, and fuzzy level parameters. It then attempts to make an API call request and uses JSON to decode the API response. If the request is successful, it will then loop through the country names in the Geonames collection and return the country names if they match the names of independent countries. If no match is detected, it returns the default value.

For the second function (extract_alt_names), it simply gets a list of alternate names, which are country names with alternate spellings, and returns them as it loops through each name in the list. 

The fuzzy matching function (find_match_with_fuzzy) takes the following parameters: names (list of names), username, fcode filter (filter the results), fallback key, min fuzzy (to ensure the fuzzy incrementation does not go below the minimum level), max fuzzy (starting point), and step (incrementation value). I used "PCLI" to filter for independent records, "name" as the fallback key in case there aren't any matches for a country, 0.30 as the mininum fuzzy level, 1 as the maximum fuzzy level, and 0.10 as the incrementing value (step). The function declares an empty list of resuts and then loops through each name in the list of names, and as long as the fuzzy level is greater than or equal to the minimum fuzzy level, the loop will continue and try to match the default names with the correct match by calling the standardize function. If a match is found, it will break out of the loop. If no match is found, it will attempt a fallback by using the default values. Finally, it appends the matched results to the list and returns it.

For the tool to work without errors using the API, you need to create an account on Geonames. You can do so here: https://www.geonames.org/login. Once your account is created, you then need to enable free services on your account and assign your Geonames username to the username variable inside the if statement (I.e., username == "Username goes here"). To test it out, I created a list of countries with misspelled names and pass the list and username as parameters when calling the fuzzy matching function. 

The initial output will first display the misspelled name and fuzzy level, followed by the corrected name. Then the final output will display the misspelled name, the fuzzy level at which the final conversion occured, alternate spellings of the country, and the final match, all in a tabular format. To get the tabular format, you need to first install and import the tabulate package, and then use the tabulate function inside the print statement.

Full list of countries: https://www.geonames.org/countries/